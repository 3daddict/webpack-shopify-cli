<div class="relative bg-white">
  <div class="px-4 mx-auto sm:px-6">
    <div class="flex items-center justify-center py-6 md:justify-start md:space-x-10">
      {%- comment -%}STORE NAME | STORE LOGO{%- endcomment -%}
      <div class="flex justify-start truncate lg:flex-1">
        <h1 class="text-xl font-bold truncate">
          {{ shop.name }}
        </h1>
      </div>
      {%- comment -%}NAVIGATION MENU{%- endcomment -%}
      <nav class="hidden space-x-10 md:flex" x-data="{open: false}">
        {%- for link in section.settings.menu.links -%}
        {%- if link.links != blank -%}
        <div class="relative">
          <button class="inline-flex items-center" x-on:click="open = !open">
            {{ link.title }}
            {%- render 'icon-dropdown' -%}
          </button>
          {%- comment -%}DROPDOWN MENU{%- endcomment -%}
          <div x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0 translate-y-3"
            x-transition:enter-end="opacity-100 translate-y-0" x-transition:leave="transition ease-out duration-300"
            x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 translate-y-3"
            x-show="open" @click.away
            class="absolute z-10 w-screen max-w-md px-2 -ml-5 transform sm:px-0 lg:ml-0 lg:left-1/2 lg:-translate-x-1/2">
            <div class="overflow-hidden border rounded-lg shadow-lg ring-black ring-opacity-5">
              <div class="relative grid gap-6 px-5 bg-white sm:gap-8 sm:p-8">
                {%- for childlink in link.links -%}
                <a href="{{ childlink.url }}" class="flex items-start p-3 -m-3 rounded-lg hover:bg-gray-100">
                  <div class="ml-4">
                    <p class="text-base font-medium text-gray-900">
                      {{ childlink.title }}
                    </p>
                  </div>
                </a>
                {%- endfor -%}
              </div>
            </div>
          </div>
        </div>
        {%- else -%}
        <a href="{{ link.url }}" class="text-base text-gray-500 hover:text-gray-700">{{ link.title }}</a>
        {%- endif -%}
        {%- endfor -%}
      </nav>
      {%- comment -%}CART BUTTON | ACCOUNT LINKS{%- endcomment -%}
      <div class="items-center justify-end hidden space-x-5 md:flex md:flex-1">
        <a href="/cart" class="text-base text-gray-500 whitespace-nowrap hover:text-gray-900">
          {%- render 'icon-shopping-bag' -%}
        </a>
        {%- if shop.customer_accounts_enabled -%}
        {% if customer %}
        <a href="/account" class="text-base text-gray-500 hover:text-gray-900">Account</a>
        {{ 'Logout' | customer_logout_link | replace: '<a', '<a class="text-base text-gray-500 hover:text-gray-900"' }}
          {%- else -%} {{ 'Login' | customer_login_link | replace: '<a'
          , '<a class="text-base text-gray-500 hover:text-gray-900"' }} {{ 'Register' | customer_register_link |
          replace: '<a' , '<a class="text-base text-gray-500 hover:text-gray-900"' }} {%- endif -%} {%- endif -%} </div>
      </div>
    </div>
  </div>

  {% schema %}
  {
  "name": "Header",
  "settings": [
  {
  "type": "link_list",
  "id": "menu",
  "label": "Header Navigation Menu",
  "default": "main-menu"
  }
  ]
  }
  {% endschema %}